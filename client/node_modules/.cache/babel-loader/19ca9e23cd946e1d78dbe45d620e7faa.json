{"ast":null,"code":"import _slicedToArray from\"C:/Users/byron/Documents/Docs/Programming/sap_heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useEffect}from\"react\";import{withStyles}from\"@material-ui/core/styles\";import{Typography,TextField,Button,Divider}from\"@material-ui/core\";import Skeleton from'@material-ui/lab/Skeleton';import{motion}from\"framer-motion\";// Local imports\nimport PieChartComp from\"../../components/PieChart/piechart\";import TweetTable from\"../../components/TweetTable/tweetTable\";import TableButtons from\"../../components/TableButtons/tableButtons\";import styles from\"./styles.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),PrevQuery=_useState4[0],setPrevQuery=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Sentiment=_useState6[0],setSentiment=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),pieData=_useState8[0],setPieData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tweetList=_useState10[0],setTweetList=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loaded=_useState12[0],setLoaded=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),chartLoad=_useState16[0],setChartLoad=_useState16[1];var _useState17=useState(\"Positive\"),_useState18=_slicedToArray(_useState17,2),Filter=_useState18[0],setFilter=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),queryList=_useState20[0],setQueryList=_useState20[1];var classes=props.classes;var handleFilter=function handleFilter(value){setFilter(value);};var handleSubmit=function handleSubmit(event){console.log(\"here\");console.log(Query);if(Query!==\"\"){// string.charAt(0).toUpperCase() + string.slice(1);\nsetLoaded(false);setLoading(true);setChartLoad(false);setFilter(\"Positive\");setPrevQuery(Query.charAt(0).toUpperCase()+Query.slice(1));setQuery(\"\");setTimeout(function(){fetchTweets();},500);setTimeout(function(){setChartLoad(true);},1000);}event.preventDefault();};var fetchTweets=function fetchTweets(){fetch('/api/getTweets?query='+Query).then(function(res){return res.json();}).then(function(data){setLoading(false);setLoaded(true);setSentiment(data[0]);setPieData(data[1]);setTweetList(data[2]);});};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Typography,{className:classes.title,children:\"Welcome to the Twitter Sentiment Tool\"}),/*#__PURE__*/_jsx(Typography,{className:classes.desc,children:\"Enter a topic to find the overall sentiment on Twitter.\"}),/*#__PURE__*/_jsxs(motion.div,{layout:true,className:classes.activeContainer,children:[/*#__PURE__*/_jsx(\"form\",{className:classes.input,noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(motion.div,{layout:true,className:classes.inputRow,children:[/*#__PURE__*/_jsx(TextField,{className:classes.field,label:\"Search\",variant:\"outlined\",value:Query,onChange:function onChange(event){return setQuery(event.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButton,children:/*#__PURE__*/_jsx(Button,{type:\"Submit\",children:\"Submit\"})})]})}),loading&&/*#__PURE__*/_jsxs(\"div\",{layout:true,className:classes.searchPaneLoading,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.loadingLeft,children:[/*#__PURE__*/_jsx(Skeleton,{style:{marginLeft:85,marginTop:20},variant:\"rect\",width:300,height:100}),/*#__PURE__*/_jsx(Skeleton,{style:{marginLeft:60,marginTop:20},variant:\"circle\",width:350,height:350})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.loadingTable,children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rect\",width:470,height:460})})]}),loaded&&/*#__PURE__*/_jsxs(\"div\",{className:classes.contentRoot,children:[/*#__PURE__*/_jsx(Divider,{className:classes.divider}),/*#__PURE__*/_jsxs(\"div\",{layout:true,className:classes.searchPane,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.leftPane,children:chartLoad&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.detailCont,children:[/*#__PURE__*/_jsxs(Typography,{className:classes.details,children:[\"Search: \",PrevQuery]}),/*#__PURE__*/_jsxs(Typography,{className:classes.details,children:[\"Sentiment: \",Sentiment]})]}),/*#__PURE__*/_jsx(PieChartComp,{data:pieData})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.tableContainer,children:[/*#__PURE__*/_jsx(TableButtons,{filter:Filter,onChange:handleFilter}),/*#__PURE__*/_jsx(\"div\",{className:classes.dataTable,children:/*#__PURE__*/_jsx(TweetTable,{data:tweetList,filterItem:Filter})})]})]})]})]})]});};export default withStyles(styles)(Home);","map":{"version":3,"sources":["C:/Users/byron/Documents/Docs/Programming/sap_heroku/client/src/views/home/index.js"],"names":["React","useState","useEffect","withStyles","Typography","TextField","Button","Divider","Skeleton","motion","PieChartComp","TweetTable","TableButtons","styles","Home","props","Query","setQuery","PrevQuery","setPrevQuery","Sentiment","setSentiment","pieData","setPieData","tweetList","setTweetList","loaded","setLoaded","loading","setLoading","chartLoad","setChartLoad","Filter","setFilter","queryList","setQueryList","classes","handleFilter","value","handleSubmit","event","console","log","charAt","toUpperCase","slice","setTimeout","fetchTweets","preventDefault","fetch","then","res","json","data","root","title","desc","activeContainer","input","inputRow","field","target","submitButton","searchPaneLoading","loadingLeft","marginLeft","marginTop","loadingTable","contentRoot","divider","searchPane","leftPane","detailCont","details","tableContainer","dataTable"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Typography, TextField, Button, Divider } from \"@material-ui/core\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { motion } from \"framer-motion\"\r\n\r\n// Local imports\r\nimport PieChartComp from \"../../components/PieChart/piechart\"\r\nimport TweetTable from \"../../components/TweetTable/tweetTable\"\r\nimport TableButtons from \"../../components/TableButtons/tableButtons\"\r\nimport styles from \"./styles.js\";\r\n\r\nconst Home = (props) => {\r\n    const [Query, setQuery] = useState(\"\");\r\n    const [PrevQuery, setPrevQuery] = useState(\"\");\r\n    const [Sentiment, setSentiment] = useState(\"\");\r\n    const [pieData, setPieData] = useState([]);\r\n    const [tweetList, setTweetList] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [chartLoad, setChartLoad] = useState(false);\r\n    const [Filter, setFilter] = useState(\"Positive\");\r\n    const [queryList, setQueryList] = useState([]);\r\n    const { classes } = props;\r\n\r\n    const handleFilter = (value) => {\r\n      setFilter(value);\r\n    }\r\n\r\n  \r\n    const handleSubmit = (event) => {\r\n      console.log(\"here\")\r\n      console.log(Query)\r\n      if (Query !== \"\")\r\n      {\r\n        // string.charAt(0).toUpperCase() + string.slice(1);\r\n        setLoaded(false);\r\n        setLoading(true);\r\n        setChartLoad(false);\r\n        setFilter(\"Positive\");\r\n        setPrevQuery(Query.charAt(0).toUpperCase() + Query.slice(1));\r\n        setQuery(\"\");\r\n        setTimeout(() => {fetchTweets();}, 500)\r\n        setTimeout(() => {setChartLoad(true);}, 1000)\r\n      \r\n      }   \r\n      event.preventDefault();\r\n    };\r\n\r\n    const fetchTweets = () => {\r\n      fetch('/api/getTweets?query=' + Query)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setLoading(false);\r\n        setLoaded(true);\r\n        setSentiment(data[0]);\r\n        setPieData(data[1]);\r\n        setTweetList(data[2]);\r\n      })\r\n    }\r\n\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Typography className={classes.title}>Welcome to the Twitter Sentiment Tool</Typography>\r\n        <Typography className={classes.desc}>Enter a topic to find the overall sentiment on Twitter.</Typography>\r\n        <motion.div layout className={classes.activeContainer}>\r\n            <form className={classes.input} noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n              <motion.div layout className={classes.inputRow}>\r\n                <TextField \r\n                    className={classes.field}\r\n                    label=\"Search\"\r\n                    variant=\"outlined\"\r\n                    value={Query}\r\n                    onChange={(event) => setQuery(event.target.value)}\r\n                />\r\n                <div className={classes.submitButton}>\r\n                  <Button type=\"Submit\">Submit</Button>\r\n                </div>\r\n              </motion.div>\r\n            </form>\r\n             \r\n            {loading &&\r\n              <div layout className={classes.searchPaneLoading}>\r\n                <div className={classes.loadingLeft}>\r\n                  <Skeleton style={{marginLeft: 85, marginTop: 20}} variant=\"rect\" width={300} height={100} />\r\n                  <Skeleton style={{marginLeft: 60, marginTop: 20}} variant=\"circle\" width={350} height={350} />\r\n                </div>\r\n                <div className={classes.loadingTable}>\r\n                    <Skeleton variant=\"rect\" width={470} height={460} />\r\n                </div>\r\n              </div>\r\n            }\r\n            {loaded && \r\n            <div className={classes.contentRoot}>\r\n              <Divider className={classes.divider} />\r\n              <div layout className={classes.searchPane}> \r\n                <div className={classes.leftPane}>\r\n                  {chartLoad &&\r\n                    <div>\r\n                      <div className={classes.detailCont}>\r\n                        <Typography className={classes.details}>Search: {PrevQuery}</Typography>\r\n                        <Typography className={classes.details}>Sentiment: {Sentiment}</Typography>\r\n                      </div>\r\n                      <PieChartComp data={pieData} />\r\n                    </div>\r\n                  }\r\n                </div>\r\n                <div className={classes.tableContainer}>\r\n                  <TableButtons filter={Filter} onChange={handleFilter} />\r\n                  <div className={classes.dataTable}>\r\n                    <TweetTable  data={tweetList} filterItem={Filter} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              </div>\r\n            }\r\n        </motion.div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default withStyles(styles)(Home);\r\n"]},"metadata":{},"sourceType":"module"}